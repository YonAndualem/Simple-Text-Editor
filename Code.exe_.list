EMU8086 GENERATED LISTING. MACHINE CODE <- SOURCE.
 
Code.exe_ -- emu8086 assembler version: 4.08  
 
[ 5/26/2025  --  6:01:22 PM ] 
 
===================================================================================================
[LINE]     LOC: MACHINE CODE                          SOURCE
===================================================================================================
 
[   1]        :                                       ; 8086 Text Editor for emu8086
[   2]        :                                       ; Full version with file operations and basic editing
[   3]        :                                       ; Compile as COM file
[   4]        :                                       
[   5]        :                                       .MODEL SMALL
[   6]        :                                       .STACK 100h
[   7]        :                                       
[   8]        :                                       .DATA
[   9]        :                                       ; UI Elements
[  10]    0100: 0D 0A 3D 3D 3D 3D 3D 20 38 30 38 36   welcome_msg      DB 13,10,'===== 8086 Text Editor =====',13,10
                20 54 65 78 74 20 45 64 69 74 6F 72 
                20 3D 3D 3D 3D 3D 0D 0A             
[  11]    0120: 46 31 20 2D 20 4E 65 77 20 46 69 6C   DB 'F1 - New File',13,10
                65 0D 0A                            
[  12]    012F: 46 32 20 2D 20 4F 70 65 6E 20 46 69   DB 'F2 - Open File',13,10
                6C 65 0D 0A                         
[  13]    013F: 46 33 20 2D 20 53 61 76 65 20 46 69   DB 'F3 - Save File',13,10
                6C 65 0D 0A                         
[  14]    014F: 45 53 43 20 2D 20 4D 61 69 6E 20 4D   DB 'ESC - Main Menu',13,10
                65 6E 75 0D 0A                      
[  15]    0160: 46 31 30 20 2D 20 51 75 69 74 0D 0A   DB 'F10 - Quit',13,10
                                                    
[  16]    016C: 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D   DB '===============================',13,10,10,'$'
                3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 
                3D 3D 3D 3D 3D 3D 3D 0D 0A 0A 24    
[  17]    018F: 0D 0A 45 6E 74 65 72 20 66 69 6C 65   filename_prompt  DB 13,10,'Enter filename (8 chars max): $'
                6E 61 6D 65 20 28 38 20 63 68 61 72 
                73 20 6D 61 78 29 3A 20 24          
[  18]    01B0: 0D 0A 45 72 72 6F 72 21 20 50 72 65   error_msg        DB 13,10,'Error! Press any key...$'
                73 73 20 61 6E 79 20 6B 65 79 2E 2E 
                2E 24                               
[  19]    01CA: 0D 0A 46 69 6C 65 20 73 61 76 65 64   saved_msg        DB 13,10,'File saved successfully!$'
                20 73 75 63 63 65 73 73 66 75 6C 6C 
                79 21 24                            
[  20]    01E5: 0D 0A 45 64 69 74 69 6E 67 20 6D 6F   editing_msg      DB 13,10,'Editing mode - Type your text (ESC to menu)',13,10,'$'
                64 65 20 2D 20 54 79 70 65 20 79 6F 
                75 72 20 74 65 78 74 20 28 45 53 43 
                20 74 6F 20 6D 65 6E 75 29 0D 0A 24 
                                                    
[  21]        :                                       
[  22]        :                                       ; File Handling
[  23]    0215: 00 00                                 file_handle      DW 0
[  24]    0217: 20 20 20 20 20 20 20 20 54 58 54 00   filename         DB '        TXT',0  ; 8.3 format
                                                    
[  25]    0223: 24 24 24 24 24 24 24 24 24 24 24 24   file_buffer      DB 4096 DUP('$')   ; Text buffer
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24 24 24 24 24 24 24 24 24 
                24 24 24 24                         
[  26]        :                                       
[  27]        :                                       ; Editor State
[  28]    1223: 00 00                                 cursor_pos       DW 0               ; Buffer position
[  29]    1225: 00                                    in_edit_mode     DB 0               ; 0=menu, 1=editing
[  30]        :                                       
[  31]        :                                       .CODE
[  32]    1230:                                       START:
[  33]    1230: B8 10 00                              MOV AX, @DATA
[  34]    1233: 8E D8                                 MOV DS, AX
[  35]    1235: 8E C0                                 MOV ES, AX
[  36]        :                                       
[  37]    1237: E8 13 02                              CALL CLEAR_SCREEN
[  38]    123A: E8 44 01                              CALL SHOW_MAIN_MENU
[  39]        :                                       
[  40]    123D:                                       MAIN_LOOP:
[  41]    123D: E8 02 00                              CALL READ_KEY
[  42]    1240: EB FB                                 JMP MAIN_LOOP
[  43]        :                                       
[  44]        :                                       ; ========== KEYBOARD HANDLER ==========
[  45]    1242:                                       READ_KEY PROC
[  46]    1242: B4 00                                 MOV AH, 00h
[  47]    1244: CD 16                                 INT 16h
[  48]        :                                       
[  49]        :                                       ; Check if in edit mode
[  50]    1246: 80 3E 25 11 01                        CMP [in_edit_mode], 1
[  51]    124B: 74 21                                 JE HANDLE_EDIT_KEYS
[  52]        :                                       
[  53]        :                                       ; Main menu keys
[  54]    124D: 80 FC 3B                              CMP AH, 3Bh        ; F1 - New
[  55]    1250: 75 03 E9 A4 00                        JE NEW_FILE
[  56]    1255: 80 FC 3C                              CMP AH, 3Ch        ; F2 - Open
[  57]    1258: 75 03 E9 A8 00                        JE OPEN_FILE
[  58]    125D: 80 FC 3D                              CMP AH, 3Dh        ; F3 - Save
[  59]    1260: 75 03 E9 AE 00                        JE SAVE_FILE
[  60]    1265: 80 FC 44                              CMP AH, 44h        ; F10 - Quit
[  61]    1268: 75 03 E9 F7 01                        JE EXIT_PROGRAM
[  62]    126D: C3                                    RET
[  63]        :                                       
[  64]    126E:                                       HANDLE_EDIT_KEYS:
[  65]    126E: 3C 1B                                 CMP AL, 1Bh        ; ESC - Exit edit mode
[  66]    1270: 74 26                                 JE EXIT_EDIT_MODE
[  67]    1272: 3C 0D                                 CMP AL, 0Dh        ; Enter
[  68]    1274: 74 11                                 JE HANDLE_ENTER
[  69]    1276: 3C 08                                 CMP AL, 08h        ; Backspace
[  70]    1278: 74 19                                 JE HANDLE_BACKSPACE
[  71]        :                                       
[  72]        :                                       ; Printable characters (20h-7Eh)
[  73]    127A: 3C 20                                 CMP AL, 20h
[  74]    127C: 72 22                                 JB READ_KEY_DONE
[  75]    127E: 3C 7E                                 CMP AL, 7Eh
[  76]    1280: 77 1E                                 JA READ_KEY_DONE
[  77]        :                                       
[  78]    1282: E8 1C 00                              CALL INSERT_CHAR
[  79]    1285: EB 19                                 JMP READ_KEY_DONE
[  80]        :                                       
[  81]    1287:                                       HANDLE_ENTER:
[  82]    1287: B0 0D                                 MOV AL, 0Dh        ; CR
[  83]    1289: E8 15 00                              CALL INSERT_CHAR
[  84]    128C: B0 0A                                 MOV AL, 0Ah        ; LF
[  85]    128E: E8 10 00                              CALL INSERT_CHAR
[  86]    1291: EB 0D                                 JMP READ_KEY_DONE
[  87]        :                                       
[  88]    1293:                                       HANDLE_BACKSPACE:
[  89]    1293: E8 21 00                              CALL DELETE_CHAR
[  90]    1296: EB 08                                 JMP READ_KEY_DONE
[  91]        :                                       
[  92]    1298:                                       EXIT_EDIT_MODE:
[  93]    1298: C6 06 25 11 00                        MOV [in_edit_mode], 0
[  94]    129D: E8 E1 00                              CALL SHOW_MAIN_MENU
[  95]        :                                       
[  96]    12A0:                                       READ_KEY_DONE:
[  97]    12A0: C3                                    RET
[  98]        :                                       READ_KEY ENDP
[  99]        :                                       
[ 100]        :                                       ; ========== TEXT EDITING FUNCTIONS ==========
[ 101]    12A1:                                       INSERT_CHAR PROC
[ 102]    12A1: 50                                    PUSH AX
[ 103]    12A2: 56                                    PUSH SI
[ 104]        :                                       
[ 105]    12A3: BE 23 01                              LEA SI, file_buffer
[ 106]    12A6: 03 36 23 11                           ADD SI, [cursor_pos]
[ 107]    12AA: 88 04                                 MOV [SI], AL
[ 108]        :                                       
[ 109]        :                                       ; Display character
[ 110]    12AC: B4 0E                                 MOV AH, 0Eh
[ 111]    12AE: CD 10                                 INT 10h
[ 112]        :                                       
[ 113]    12B0: FF 06 23 11                           INC [cursor_pos]
[ 114]        :                                       
[ 115]    12B4: 5E                                    POP SI
[ 116]    12B5: 58                                    POP AX
[ 117]    12B6: C3                                    RET
[ 118]        :                                       INSERT_CHAR ENDP
[ 119]        :                                       
[ 120]    12B7:                                       DELETE_CHAR PROC
[ 121]    12B7: 83 3E 23 11 00                        CMP [cursor_pos], 0
[ 122]    12BC: 74 3A                                 JE DELETE_DONE
[ 123]        :                                       
[ 124]    12BE: FF 0E 23 11                           DEC [cursor_pos]
[ 125]    12C2: BE 23 01                              LEA SI, file_buffer
[ 126]    12C5: 03 36 23 11                           ADD SI, [cursor_pos]
[ 127]    12C9: C6 04 24                              MOV BYTE PTR [SI], '$'
[ 128]        :                                       
[ 129]        :                                       ; Move cursor back
[ 130]    12CC: B4 03                                 MOV AH, 03h        ; Get cursor position
[ 131]    12CE: CD 10                                 INT 10h
[ 132]    12D0: FE CA                                 DEC DL
[ 133]    12D2: 80 FA FF                              CMP DL, 0FFh
[ 134]    12D5: 75 04                                 JNE SET_CURSOR
[ 135]    12D7: FE CE                                 DEC DH
[ 136]    12D9: B2 4F                                 MOV DL, 79
[ 137]    12DB:                                       SET_CURSOR:
[ 138]    12DB: B4 02                                 MOV AH, 02h
[ 139]    12DD: CD 10                                 INT 10h
[ 140]        :                                       
[ 141]        :                                       ; Print space to erase
[ 142]    12DF: B0 20                                 MOV AL, ' '
[ 143]    12E1: B4 0E                                 MOV AH, 0Eh
[ 144]    12E3: CD 10                                 INT 10h
[ 145]        :                                       
[ 146]        :                                       ; Move cursor back again
[ 147]    12E5: B4 03                                 MOV AH, 03h
[ 148]    12E7: CD 10                                 INT 10h
[ 149]    12E9: FE CA                                 DEC DL
[ 150]    12EB: 80 FA FF                              CMP DL, 0FFh
[ 151]    12EE: 75 04                                 JNE SET_CURSOR2
[ 152]    12F0: FE CE                                 DEC DH
[ 153]    12F2: B2 4F                                 MOV DL, 79
[ 154]    12F4:                                       SET_CURSOR2:
[ 155]    12F4: B4 02                                 MOV AH, 02h
[ 156]    12F6: CD 10                                 INT 10h
[ 157]        :                                       
[ 158]    12F8:                                       DELETE_DONE:
[ 159]    12F8: C3                                    RET
[ 160]        :                                       DELETE_CHAR ENDP
[ 161]        :                                       
[ 162]        :                                       ; ========== FILE OPERATIONS ==========
[ 163]    12F9:                                       NEW_FILE:
[ 164]    12F9: E8 C7 00                              CALL GET_FILENAME
[ 165]    12FC: E8 3D 01                              CALL CLEAR_BUFFER
[ 166]    12FF: E8 8A 00                              CALL ENTER_EDIT_MODE
[ 167]    1302: E9 38 FF                              JMP MAIN_LOOP
[ 168]        :                                       
[ 169]    1305:                                       OPEN_FILE:
[ 170]    1305: E8 BB 00                              CALL GET_FILENAME
[ 171]    1308: E8 19 00                              CALL LOAD_FILE
[ 172]    130B: 72 11                                 JC FILE_ERROR
[ 173]    130D: E8 7C 00                              CALL ENTER_EDIT_MODE
[ 174]    1310: E9 2A FF                              JMP MAIN_LOOP
[ 175]        :                                       
[ 176]    1313:                                       SAVE_FILE:
[ 177]    1313: E8 3B 00                              CALL SAVE_BUFFER
[ 178]    1316: 72 06                                 JC FILE_ERROR
[ 179]    1318: E8 A0 00                              CALL SHOW_SAVED_MSG
[ 180]    131B: E9 1F FF                              JMP MAIN_LOOP
[ 181]        :                                       
[ 182]    131E:                                       FILE_ERROR:
[ 183]    131E: E8 8E 00                              CALL SHOW_ERROR
[ 184]    1321: E9 19 FF                              JMP MAIN_LOOP
[ 185]        :                                       
[ 186]    1324:                                       LOAD_FILE PROC
[ 187]    1324: B4 3D                                 MOV AH, 3Dh        ; Open file
[ 188]    1326: B0 00                                 MOV AL, 0          ; Read-only
[ 189]    1328: BA 17 01                              LEA DX, filename
[ 190]    132B: CD 21                                 INT 21h
[ 191]    132D: 72 20                                 JC LOAD_ERROR
[ 192]        :                                       
[ 193]    132F: A3 15 01                              MOV [file_handle], AX
[ 194]        :                                       
[ 195]        :                                       ; Read file
[ 196]    1332: B4 3F                                 MOV AH, 3Fh
[ 197]    1334: 8B 1E 15 01                           MOV BX, [file_handle]
[ 198]    1338: BA 23 01                              LEA DX, file_buffer
[ 199]    133B: B9 FF 0F                              MOV CX, 4095
[ 200]    133E: CD 21                                 INT 21h
[ 201]    1340: 72 0D                                 JC LOAD_ERROR
[ 202]        :                                       
[ 203]        :                                       ; Null-terminate
[ 204]    1342: BE 23 01                              LEA SI, file_buffer
[ 205]    1345: 03 F0                                 ADD SI, AX
[ 206]    1347: C6 04 24                              MOV BYTE PTR [SI], '$'
[ 207]        :                                       
[ 208]    134A: E8 2B 00                              CALL CLOSE_FILE
[ 209]    134D: F8                                    CLC
[ 210]    134E: C3                                    RET
[ 211]        :                                       
[ 212]    134F:                                       LOAD_ERROR:
[ 213]    134F: F9                                    STC
[ 214]    1350: C3                                    RET
[ 215]        :                                       LOAD_FILE ENDP
[ 216]        :                                       
[ 217]    1351:                                       SAVE_BUFFER PROC
[ 218]        :                                       ; Create/truncate file
[ 219]    1351: B4 3C                                 MOV AH, 3Ch
[ 220]    1353: B9 00 00                              MOV CX, 0          ; Normal file
[ 221]    1356: BA 17 01                              LEA DX, filename
[ 222]    1359: CD 21                                 INT 21h
[ 223]    135B: 72 19                                 JC SAVE_ERROR
[ 224]        :                                       
[ 225]    135D: A3 15 01                              MOV [file_handle], AX
[ 226]        :                                       
[ 227]        :                                       ; Write buffer
[ 228]    1360: B4 40                                 MOV AH, 40h
[ 229]    1362: 8B 1E 15 01                           MOV BX, [file_handle]
[ 230]    1366: BA 23 01                              LEA DX, file_buffer
[ 231]    1369: 8B 0E 23 11                           MOV CX, [cursor_pos]
[ 232]    136D: CD 21                                 INT 21h
[ 233]    136F: 72 05                                 JC SAVE_ERROR
[ 234]        :                                       
[ 235]    1371: E8 04 00                              CALL CLOSE_FILE
[ 236]    1374: F8                                    CLC
[ 237]    1375: C3                                    RET
[ 238]        :                                       
[ 239]    1376:                                       SAVE_ERROR:
[ 240]    1376: F9                                    STC
[ 241]    1377: C3                                    RET
[ 242]        :                                       SAVE_BUFFER ENDP
[ 243]        :                                       
[ 244]    1378:                                       CLOSE_FILE PROC
[ 245]    1378: B4 3E                                 MOV AH, 3Eh
[ 246]    137A: 8B 1E 15 01                           MOV BX, [file_handle]
[ 247]    137E: CD 21                                 INT 21h
[ 248]    1380: C3                                    RET
[ 249]        :                                       CLOSE_FILE ENDP
[ 250]        :                                       
[ 251]        :                                       ; ========== UI FUNCTIONS ==========
[ 252]    1381:                                       SHOW_MAIN_MENU PROC
[ 253]    1381: E8 C9 00                              CALL CLEAR_SCREEN
[ 254]    1384: B4 09                                 MOV AH, 09h
[ 255]    1386: BA 00 00                              LEA DX, welcome_msg
[ 256]    1389: CD 21                                 INT 21h
[ 257]    138B: C3                                    RET
[ 258]        :                                       SHOW_MAIN_MENU ENDP
[ 259]        :                                       
[ 260]    138C:                                       ENTER_EDIT_MODE PROC
[ 261]    138C: C6 06 25 11 01                        MOV [in_edit_mode], 1
[ 262]    1391: E8 B9 00                              CALL CLEAR_SCREEN
[ 263]        :                                       
[ 264]        :                                       ; Show editing header
[ 265]    1394: B4 09                                 MOV AH, 09h
[ 266]    1396: BA E5 00                              LEA DX, editing_msg
[ 267]    1399: CD 21                                 INT 21h
[ 268]        :                                       
[ 269]        :                                       ; Display existing text
[ 270]    139B: BE 23 01                              LEA SI, file_buffer
[ 271]    139E: B9 00 10                              MOV CX, 4096
[ 272]    13A1:                                       PRINT_LOOP:
[ 273]    13A1: 8A 04                                 MOV AL, [SI]
[ 274]    13A3: 3C 24                                 CMP AL, '$'
[ 275]    13A5: 74 07                                 JE PRINT_DONE
[ 276]    13A7: B4 0E                                 MOV AH, 0Eh
[ 277]    13A9: CD 10                                 INT 10h
[ 278]    13AB: 46                                    INC SI
[ 279]    13AC: E2 F3                                 LOOP PRINT_LOOP
[ 280]        :                                       
[ 281]    13AE:                                       PRINT_DONE:
[ 282]    13AE: C3                                    RET
[ 283]        :                                       ENTER_EDIT_MODE ENDP
[ 284]        :                                       
[ 285]    13AF:                                       SHOW_ERROR PROC
[ 286]    13AF: B4 09                                 MOV AH, 09h
[ 287]    13B1: BA B0 00                              LEA DX, error_msg
[ 288]    13B4: CD 21                                 INT 21h
[ 289]        :                                       ; Wait for key
[ 290]    13B6: B4 00                                 MOV AH, 00h
[ 291]    13B8: CD 16                                 INT 16h
[ 292]    13BA: C3                                    RET
[ 293]        :                                       SHOW_ERROR ENDP
[ 294]        :                                       
[ 295]    13BB:                                       SHOW_SAVED_MSG PROC
[ 296]    13BB: B4 09                                 MOV AH, 09h
[ 297]    13BD: BA CA 00                              LEA DX, saved_msg
[ 298]    13C0: CD 21                                 INT 21h
[ 299]    13C2: C3                                    RET
[ 300]        :                                       SHOW_SAVED_MSG ENDP
[ 301]        :                                       
[ 302]        :                                       ; ========== UTILITIES ==========
[ 303]    13C3:                                       GET_FILENAME PROC
[ 304]    13C3: E8 87 00                              CALL CLEAR_SCREEN
[ 305]    13C6: B4 09                                 MOV AH, 09h
[ 306]    13C8: BA 8F 00                              LEA DX, filename_prompt
[ 307]    13CB: CD 21                                 INT 21h
[ 308]        :                                       
[ 309]        :                                       ; Clear filename
[ 310]    13CD: B9 0B 00                              MOV CX, 11
[ 311]    13D0: BF 17 01                              LEA DI, filename
[ 312]    13D3: B0 20                                 MOV AL, ' '
[ 313]    13D5: F3 AA                                 REP STOSB
[ 314]        :                                       
[ 315]        :                                       ; Read input
[ 316]    13D7: B4 0A                                 MOV AH, 0Ah
[ 317]    13D9: BA FE 01                              LEA DX, filename_input
[ 318]    13DC: CD 21                                 INT 21h
[ 319]        :                                       
[ 320]        :                                       ; Convert to 8.3 format
[ 321]    13DE: BE 00 02                              LEA SI, filename_input + 2
[ 322]    13E1: BF 17 01                              LEA DI, filename
[ 323]    13E4: B9 08 00                              MOV CX, 8
[ 324]    13E7:                                       COPY_NAME:
[ 325]    13E7: 8A 04                                 MOV AL, [SI]
[ 326]    13E9: 3C 0D                                 CMP AL, 0Dh       ; Enter
[ 327]    13EB: 74 2B                                 JE PAD_NAME
[ 328]    13ED: 3C 2E                                 CMP AL, '.'       ; Extension
[ 329]    13EF: 74 13                                 JE HANDLE_EXT
[ 330]    13F1: 88 05                                 MOV [DI], AL
[ 331]    13F3: 46                                    INC SI
[ 332]    13F4: 47                                    INC DI
[ 333]    13F5: E2 F0                                 LOOP COPY_NAME
[ 334]        :                                       
[ 335]        :                                       ; Skip remaining name chars
[ 336]    13F7:                                       SKIP_REMAINING:
[ 337]    13F7: 8A 04                                 MOV AL, [SI]
[ 338]    13F9: 3C 0D                                 CMP AL, 0Dh
[ 339]    13FB: 74 26                                 JE PAD_EXT
[ 340]    13FD: 3C 2E                                 CMP AL, '.'
[ 341]    13FF: 74 03                                 JE HANDLE_EXT
[ 342]    1401: 46                                    INC SI
[ 343]    1402: EB F3                                 JMP SKIP_REMAINING
[ 344]        :                                       
[ 345]    1404:                                       HANDLE_EXT:
[ 346]    1404: 46                                    INC SI            ; Skip '.'
[ 347]    1405: BF 1F 01                              LEA DI, filename + 8
[ 348]    1408: B9 03 00                              MOV CX, 3
[ 349]    140B:                                       COPY_EXT:
[ 350]    140B: 8A 04                                 MOV AL, [SI]
[ 351]    140D: 3C 0D                                 CMP AL, 0Dh
[ 352]    140F: 74 12                                 JE PAD_EXT
[ 353]    1411: 88 05                                 MOV [DI], AL
[ 354]    1413: 46                                    INC SI
[ 355]    1414: 47                                    INC DI
[ 356]    1415: E2 F4                                 LOOP COPY_EXT
[ 357]    1417: C3                                    RET
[ 358]        :                                       
[ 359]    1418:                                       PAD_NAME:
[ 360]    1418: BF 17 01                              LEA DI, filename
[ 361]    141B: 03 F9                                 ADD DI, CX
[ 362]    141D: B0 20                                 MOV AL, ' '
[ 363]    141F: F3 AA                                 REP STOSB
[ 364]    1421: EB 00                                 JMP PAD_EXT
[ 365]        :                                       
[ 366]    1423:                                       PAD_EXT:
[ 367]    1423: BF 1F 01                              LEA DI, filename + 8
[ 368]    1426: B9 03 00                              MOV CX, 3
[ 369]    1429: B0 20                                 MOV AL, ' '
[ 370]    142B: F3 AA                                 REP STOSB
[ 371]    142D: C3                                    RET
[ 372]        :                                       
[ 373]    142E: 0C 00 00 00 00 00 00 00 00 00 00 00   filename_input DB 12,?,12 DUP(0)
                00 00                               
[ 374]        :                                       GET_FILENAME ENDP
[ 375]        :                                       
[ 376]    143C:                                       CLEAR_BUFFER PROC
[ 377]    143C: BF 23 01                              LEA DI, file_buffer
[ 378]    143F: B9 00 10                              MOV CX, 4096
[ 379]    1442: B0 24                                 MOV AL, '$'
[ 380]    1444: F3 AA                                 REP STOSB
[ 381]    1446: C7 06 23 11 00 00                     MOV [cursor_pos], 0
[ 382]    144C: C3                                    RET
[ 383]        :                                       CLEAR_BUFFER ENDP
[ 384]        :                                       
[ 385]    144D:                                       CLEAR_SCREEN PROC
[ 386]    144D: B8 00 06                              MOV AX, 0600h     ; Scroll entire window
[ 387]    1450: B7 07                                 MOV BH, 07h       ; Normal attribute
[ 388]    1452: B9 00 00                              MOV CX, 0000h     ; Upper-left
[ 389]    1455: BA 4F 18                              MOV DX, 184Fh     ; Lower-right
[ 390]    1458: CD 10                                 INT 10h
[ 391]        :                                       
[ 392]        :                                       ; Home cursor
[ 393]    145A: B4 02                                 MOV AH, 02h
[ 394]    145C: B7 00                                 MOV BH, 00h
[ 395]    145E: BA 00 00                              MOV DX, 0000h
[ 396]    1461: CD 10                                 INT 10h
[ 397]    1463: C3                                    RET
[ 398]        :                                       CLEAR_SCREEN ENDP
[ 399]        :                                       
[ 400]    1464:                                       EXIT_PROGRAM:
[ 401]    1464: B4 4C                                 MOV AH, 4Ch
[ 402]    1466: CD 21                                 INT 21h
[ 403]        :                                       
[ 404]        :                                       END START
[ 405]        :                                       
 
===================================================================================================
 
EXE HEADER - bytes from 0000 to 01FF inclusive.

0000: 4D      -   exe signature (M)
0001: 5A      -   exe signature (Z)
0002: 68      -   bytes on last page (l.byte)
0003: 00      -   bytes on last page (h.byte)
0004: 0C      -   512 byte pages in file (l.byte)
0005: 00      -   512 byte pages in file (h.byte)
0006: 01      -   relocations (l.byte)
0007: 00      -   relocations (h.byte)
0008: 20      -   paragraphs in header (l.byte)
0009: 00      -   paragraphs in header (h.byte)
000A: 00      -   minimum memory (l.byte)
000B: 00      -   minimum memory (h.byte)
000C: FF      -   maximum memory (l.byte)
000D: FF      -   maximum memory (h.byte)
000E: 00      -   SS - stack segment (l.byte)
000F: 00      -   SS - stack segment (h.byte)
0010: 00      -   SP - stack pointer (l.byte)
0011: 01      -   SP - stack pointer (h.byte)
0012: FC      -   check sum (l.byte)
0013: 04      -   check sum (h.byte)
0014: 00      -   IP - instruction pointer (l.byte)
0015: 00      -   IP - instruction pointer (h.byte)
0016: 23      -   CS - code segment (l.byte)
0017: 01      -   CS - code segment (h.byte)
0018: 1E      -   relocation table adress (l.byte)
0019: 00      -   relocation table adress (h.byte)
001A: 00      -   overlay number (l.byte)
001B: 00      -   overlay number (h.byte)
001C: 01      -   signature (l.byte)
001D: 00      -   signature (h.byte)
001E: 01      -   relocation table - offset inside segment (l.byte)
001F: 00      -   relocation table - offset inside segment (h.byte)
0020: 23      -   relocation table - segment anchor (l.byte)
0021: 01      -   relocation table - segment anchor (h.byte)
0022 to 01FF  -   reserved relocation area  (00) 




===================================================================================================
